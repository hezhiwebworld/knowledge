<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			
			#div1{
				height: 100px;
				width: 100px;
				position: absolute;
				background-color: red;
				top: 0;
				left: 0;
			}
			
			#div2{
				height: 100px;
				width: 100px;
				position: absolute;
				background-color: green;
				left: 100px;
				top: 0;
			}
		</style>
	</head>
	<body>
		
		<div id="div1"></div>
		<div id="div2"></div>
		
		<script type="text/javascript">
			  window.onload = function(){
			  	 var  d  = new Drag('div1');
			      d.init();
			  }
			  
			   function Drag(id){
			   	this.obj = document.getElementById(id);
			   	
			   	this.disx = 0;
			   	
			   	this.disy = 0;
			   }
			   
			   Drag.prototype.init =function(){
			   	    var This = this
			   	    console.log(this)
			   		this.obj.onmousedown = function(ev){
			   			
			   			console.log(this)
			   			var ev = ev || window.event;
			   			this.disx =  ev.clientX - This.obj.offsetLeft;
		   			    this.disy = ev.clientY - This.obj.offsetTop;
		   			    
			   			document.onmousemove = function(ev){
			   				
			   				var ev = ev || window.event;
			   				This.obj.style.left = ev.clientX - This.disx + 'px';
			   				This.obj.style.top = ev.clientY - This.disy + 'px';
			   			}
			   			document.onmouseup = function(){
			   				document.onmousemove = null;
			   				document.onmouseup = null;
			   			}
			   			return false;
			   		}
			   		
			   }
			   
			  
			   
		</script>
	</body>
</html>
